<p>å®ç°<code>RandomizedSet</code> ç±»ï¼š</p>

<div class="original__bRMd"> 
 <div> 
  <ul> 
   <li><code>RandomizedSet()</code> åˆå§‹åŒ– <code>RandomizedSet</code> å¯¹è±¡</li> 
   <li><code>bool insert(int val)</code> å½“å…ƒç´  <code>val</code> ä¸å­˜åœ¨æ—¶ï¼Œå‘é›†åˆä¸­æ’å…¥è¯¥é¡¹ï¼Œå¹¶è¿”å› <code>true</code> ï¼›å¦åˆ™ï¼Œè¿”å› <code>false</code> ã€‚</li> 
   <li><code>bool remove(int val)</code> å½“å…ƒç´  <code>val</code> å­˜åœ¨æ—¶ï¼Œä»é›†åˆä¸­ç§»é™¤è¯¥é¡¹ï¼Œå¹¶è¿”å› <code>true</code> ï¼›å¦åˆ™ï¼Œè¿”å› <code>false</code> ã€‚</li> 
   <li><code>int getRandom()</code> éšæœºè¿”å›ç°æœ‰é›†åˆä¸­çš„ä¸€é¡¹ï¼ˆæµ‹è¯•ç”¨ä¾‹ä¿è¯è°ƒç”¨æ­¤æ–¹æ³•æ—¶é›†åˆä¸­è‡³å°‘å­˜åœ¨ä¸€ä¸ªå…ƒç´ ï¼‰ã€‚æ¯ä¸ªå…ƒç´ åº”è¯¥æœ‰ <strong>ç›¸åŒçš„æ¦‚ç‡</strong> è¢«è¿”å›ã€‚</li> 
  </ul> 
 </div>
</div>

<p>ä½ å¿…é¡»å®ç°ç±»çš„æ‰€æœ‰å‡½æ•°ï¼Œå¹¶æ»¡è¶³æ¯ä¸ªå‡½æ•°çš„ <strong>å¹³å‡</strong> æ—¶é—´å¤æ‚åº¦ä¸º <code>O(1)</code> ã€‚</p>

<p>&nbsp;</p>

<p><strong>ç¤ºä¾‹ï¼š</strong></p>

<pre>
<strong>è¾“å…¥</strong>
["RandomizedSet", "insert", "remove", "insert", "getRandom", "remove", "insert", "getRandom"]
[[], [1], [2], [2], [], [1], [2], []]
<strong>è¾“å‡º</strong>
[null, true, false, true, 2, true, false, 2]

<strong>è§£é‡Š</strong>
RandomizedSet randomizedSet = new RandomizedSet();
randomizedSet.insert(1); // å‘é›†åˆä¸­æ’å…¥ 1 ã€‚è¿”å› true è¡¨ç¤º 1 è¢«æˆåŠŸåœ°æ’å…¥ã€‚
randomizedSet.remove(2); // è¿”å› false ï¼Œè¡¨ç¤ºé›†åˆä¸­ä¸å­˜åœ¨ 2 ã€‚
randomizedSet.insert(2); // å‘é›†åˆä¸­æ’å…¥ 2 ã€‚è¿”å› true ã€‚é›†åˆç°åœ¨åŒ…å« [1,2] ã€‚
randomizedSet.getRandom(); // getRandom åº”éšæœºè¿”å› 1 æˆ– 2 ã€‚
randomizedSet.remove(1); // ä»é›†åˆä¸­ç§»é™¤ 1 ï¼Œè¿”å› true ã€‚é›†åˆç°åœ¨åŒ…å« [2] ã€‚
randomizedSet.insert(2); // 2 å·²åœ¨é›†åˆä¸­ï¼Œæ‰€ä»¥è¿”å› false ã€‚
randomizedSet.getRandom(); // ç”±äº 2 æ˜¯é›†åˆä¸­å”¯ä¸€çš„æ•°å­—ï¼ŒgetRandom æ€»æ˜¯è¿”å› 2 ã€‚
</pre>

<p>&nbsp;</p>

<p><strong>æç¤ºï¼š</strong></p>

<ul> 
 <li><code>-2<sup>31</sup> &lt;= val &lt;= 2<sup>31</sup> - 1</code></li> 
 <li>æœ€å¤šè°ƒç”¨ <code>insert</code>ã€<code>remove</code> å’Œ <code>getRandom</code> å‡½æ•° <code>2 *&nbsp;</code><code>10<sup>5</sup></code> æ¬¡</li> 
 <li>åœ¨è°ƒç”¨ <code>getRandom</code> æ–¹æ³•æ—¶ï¼Œæ•°æ®ç»“æ„ä¸­ <strong>è‡³å°‘å­˜åœ¨ä¸€ä¸ª</strong> å…ƒç´ ã€‚</li> 
</ul>

<details><summary><strong>Related Topics</strong></summary>è®¾è®¡ | æ•°ç»„ | å“ˆå¸Œè¡¨ | æ•°å­¦ | éšæœºåŒ–</details><br>

<div>ğŸ‘ 690, ğŸ‘ 0<span style='float: right;'><span style='color: gray;'><a href='https://github.com/labuladong/fucking-algorithm/discussions/939' target='_blank' style='color: lightgray;text-decoration: underline;'>bug åé¦ˆ</a> | <a href='https://labuladong.gitee.io/article/fname.html?fname=jbæ’ä»¶ç®€ä»‹' target='_blank' style='color: lightgray;text-decoration: underline;'>ä½¿ç”¨æŒ‡å—</a> | <a href='https://labuladong.github.io/algo/images/others/%E5%85%A8%E5%AE%B6%E6%A1%B6.jpg' target='_blank' style='color: lightgray;text-decoration: underline;'>æ›´å¤šé…å¥—æ’ä»¶</a></span></span></div>

<div id="labuladong"><hr>

**é€šçŸ¥ï¼š[æ•°æ®ç»“æ„ç²¾å“è¯¾](https://aep.h5.xeknow.com/s/1XJHEO) å’Œ [é€’å½’ç®—æ³•ä¸“é¢˜è¯¾](https://aep.xet.tech/s/3YGcq3) é™æ—¶é™„èµ ç½‘ç«™ä¼šå‘˜ï¼[ç¬¬ 21 æœŸæ‰“å¡æŒ‘æˆ˜](https://opedk.xet.tech/s/4ptSo2) å¼€å§‹æŠ¥åï¼**



<p><strong><a href="https://labuladong.gitee.io/article/slug.html?slug=insert-delete-getrandom-o1" target="_blank">â­ï¸labuladong é¢˜è§£</a></strong></p>
<details><summary><strong>labuladong æ€è·¯</strong></summary>

## åŸºæœ¬æ€è·¯

å¯¹äºä¸€ä¸ªæ ‡å‡†çš„ `HashSet`ï¼Œä½ èƒ½å¦åœ¨ `O(1)` çš„æ—¶é—´å†…å®ç° `getRandom` å‡½æ•°ï¼Ÿ

å…¶å®æ˜¯ä¸èƒ½çš„ï¼Œå› ä¸ºæ ¹æ®åˆšæ‰è¯´åˆ°çš„åº•å±‚å®ç°ï¼Œå…ƒç´ æ˜¯è¢«å“ˆå¸Œå‡½æ•°ã€Œåˆ†æ•£ã€åˆ°æ•´ä¸ªæ•°ç»„é‡Œé¢çš„ï¼Œæ›´åˆ«è¯´è¿˜æœ‰æ‹‰é“¾æ³•ç­‰ç­‰è§£å†³å“ˆå¸Œå†²çªçš„æœºåˆ¶ï¼ŒåŸºæœ¬åšä¸åˆ° `O(1)` æ—¶é—´ç­‰æ¦‚ç‡éšæœºè·å–å…ƒç´ ã€‚

æ¢å¥è¯è¯´ï¼Œå¯¹äº `getRandom` æ–¹æ³•ï¼Œå¦‚æœæƒ³ã€Œç­‰æ¦‚ç‡ã€ä¸”ã€Œåœ¨ `O(1)` çš„æ—¶é—´ã€å–å‡ºå…ƒç´ ï¼Œä¸€å®šè¦æ»¡è¶³ï¼š

åº•å±‚ç”¨æ•°ç»„å®ç°ï¼Œä¸”æ•°ç»„å¿…é¡»æ˜¯ç´§å‡‘çš„ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥ç›´æ¥ç”Ÿæˆéšæœºæ•°ä½œä¸ºç´¢å¼•ï¼Œé€‰å–éšæœºå…ƒç´ ã€‚

ä½†å¦‚æœç”¨æ•°ç»„å­˜å‚¨å…ƒç´ çš„è¯ï¼Œå¸¸è§„çš„æ’å…¥ï¼Œåˆ é™¤çš„æ—¶é—´å¤æ‚åº¦åˆä¸å¯èƒ½æ˜¯ `O(1)`ã€‚

ç„¶è€Œï¼Œå¯¹æ•°ç»„å°¾éƒ¨è¿›è¡Œæ’å…¥å’Œåˆ é™¤æ“ä½œä¸ä¼šæ¶‰åŠæ•°æ®æ¬ç§»ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯ `O(1)`ã€‚

æ‰€ä»¥ï¼Œå¦‚æœæˆ‘ä»¬æƒ³åœ¨ `O(1)` çš„æ—¶é—´åˆ é™¤æ•°ç»„ä¸­çš„æŸä¸€ä¸ªå…ƒç´  `val`ï¼Œå¯ä»¥å…ˆæŠŠè¿™ä¸ªå…ƒç´ äº¤æ¢åˆ°æ•°ç»„çš„å°¾éƒ¨ï¼Œç„¶åå† `pop` æ‰ã€‚

**è¯¦ç»†é¢˜è§£ï¼š[å¸¸æ•°æ—¶é—´åˆ é™¤/æŸ¥æ‰¾æ•°ç»„ä¸­çš„ä»»æ„å…ƒç´ ](https://labuladong.github.io/article/fname.html?fname=éšæœºé›†åˆ)**

**æ ‡ç­¾ï¼šå“ˆå¸Œè¡¨ï¼Œ[æ•°æ®ç»“æ„](https://mp.weixin.qq.com/mp/appmsgalbum?__biz=MzAxODQxMDM0Mw==&action=getalbum&album_id=1318892385270808576)ï¼Œ[æ•°ç»„](https://mp.weixin.qq.com/mp/appmsgalbum?__biz=MzAxODQxMDM0Mw==&action=getalbum&album_id=2120601117519675393)ï¼Œ[è®¾è®¡](https://mp.weixin.qq.com/mp/appmsgalbum?__biz=MzAxODQxMDM0Mw==&action=getalbum&album_id=2121998148662362112)ï¼Œ[éšæœºç®—æ³•](https://mp.weixin.qq.com/mp/appmsgalbum?__biz=MzAxODQxMDM0Mw==&action=getalbum&album_id=2122023604245659649)**

## è§£æ³•ä»£ç 

æç¤ºï¼šğŸŸ¢ æ ‡è®°çš„æ˜¯æˆ‘å†™çš„è§£æ³•ä»£ç ï¼ŒğŸ¤– æ ‡è®°çš„æ˜¯ chatGPT ç¿»è¯‘çš„å¤šè¯­è¨€è§£æ³•ä»£ç ã€‚å¦‚æœ‰é”™è¯¯ï¼Œå¯ä»¥ [ç‚¹è¿™é‡Œ](https://github.com/labuladong/fucking-algorithm/issues/1113) åé¦ˆå’Œä¿®æ­£ã€‚

<div class="tab-panel"><div class="tab-nav">
<button data-tab-item="cpp" class="tab-nav-button btn active" data-tab-group="default" onclick="switchTab(this)">cppğŸŸ¢</button>

<button data-tab-item="python" class="tab-nav-button btn " data-tab-group="default" onclick="switchTab(this)">pythonğŸ¤–</button>

<button data-tab-item="java" class="tab-nav-button btn " data-tab-group="default" onclick="switchTab(this)">javağŸ¤–</button>

<button data-tab-item="go" class="tab-nav-button btn " data-tab-group="default" onclick="switchTab(this)">goğŸ¤–</button>

<button data-tab-item="javascript" class="tab-nav-button btn " data-tab-group="default" onclick="switchTab(this)">javascriptğŸ¤–</button>
</div><div class="tab-content">
<div data-tab-item="cpp" class="tab-item active" data-tab-group="default"><div class="highlight">

```cpp
class RandomizedSet {
    public:
    // å­˜å‚¨å…ƒç´ çš„å€¼
    vector<int> nums;
    // è®°å½•æ¯ä¸ªå…ƒç´ å¯¹åº”åœ¨ nums ä¸­çš„ç´¢å¼•
    unordered_map<int,int> valToIndex;

    bool insert(int val) {
        // è‹¥ val å·²å­˜åœ¨ï¼Œä¸ç”¨å†æ’å…¥
        if (valToIndex.count(val)) {
            return false;
        }
        // è‹¥ val ä¸å­˜åœ¨ï¼Œæ’å…¥åˆ° nums å°¾éƒ¨ï¼Œ
        // å¹¶è®°å½• val å¯¹åº”çš„ç´¢å¼•å€¼
        valToIndex[val] = nums.size();
        nums.push_back(val);
        return true;
    }

    bool remove(int val) {
        // è‹¥ val ä¸å­˜åœ¨ï¼Œä¸ç”¨å†åˆ é™¤
        if (!valToIndex.count(val)) {
            return false;
        }
        // å…ˆæ‹¿åˆ° val çš„ç´¢å¼•
        int index = valToIndex[val];
        // å°†æœ€åä¸€ä¸ªå…ƒç´ å¯¹åº”çš„ç´¢å¼•ä¿®æ”¹ä¸º index
        valToIndex[nums.back()] = index;
        // äº¤æ¢ val å’Œæœ€åä¸€ä¸ªå…ƒç´ 
        swap(nums[index], nums.back());
        // åœ¨æ•°ç»„ä¸­åˆ é™¤å…ƒç´  val
        nums.pop_back();
        // åˆ é™¤å…ƒç´  val å¯¹åº”çš„ç´¢å¼•
        valToIndex.erase(val);
        return true;
    }

    int getRandom() {
        // éšæœºè·å– nums ä¸­çš„ä¸€ä¸ªå…ƒç´ 
        return nums[rand() % nums.size()];
    }
};
```

</div></div>

<div data-tab-item="python" class="tab-item " data-tab-group="default"><div class="highlight">

```python
# æ³¨æ„ï¼špython ä»£ç ç”± chatGPTğŸ¤– æ ¹æ®æˆ‘çš„ cpp ä»£ç ç¿»è¯‘ï¼Œæ—¨åœ¨å¸®åŠ©ä¸åŒèƒŒæ™¯çš„è¯»è€…ç†è§£ç®—æ³•é€»è¾‘ã€‚
# æœ¬ä»£ç å·²ç»é€šè¿‡åŠ›æ‰£çš„æµ‹è¯•ç”¨ä¾‹ï¼Œåº”è¯¥å¯ç›´æ¥æˆåŠŸæäº¤ã€‚

class RandomizedSet:

    def __init__(self):
        """
        Initialize your data structure here.
        """
        self.nums = []              # å­˜å‚¨å…ƒç´ çš„å€¼
        self.valToIndex = dict()    # è®°å½•æ¯ä¸ªå…ƒç´ å¯¹åº”åœ¨ nums ä¸­çš„ç´¢å¼•

    def insert(self, val: int) -> bool:
        """
        Inserts a value to the set. Returns true if the set did not already contain the specified element.
        """
        # è‹¥ val å·²å­˜åœ¨ï¼Œä¸ç”¨å†æ’å…¥
        if val in self.valToIndex:
            return False
        # è‹¥ val ä¸å­˜åœ¨ï¼Œæ’å…¥åˆ° nums å°¾éƒ¨ï¼Œ
        # å¹¶è®°å½• val å¯¹åº”çš„ç´¢å¼•å€¼
        self.valToIndex[val] = len(self.nums)
        self.nums.append(val)
        return True

    def remove(self, val: int) -> bool:
        """
        Removes a value from the set. Returns true if the set contained the specified element.
        """
        # è‹¥ val ä¸å­˜åœ¨ï¼Œä¸ç”¨å†åˆ é™¤
        if val not in self.valToIndex:
            return False
        # å…ˆæ‹¿åˆ° val çš„ç´¢å¼•
        index = self.valToIndex[val]
        # å°†æœ€åä¸€ä¸ªå…ƒç´ å¯¹åº”çš„ç´¢å¼•ä¿®æ”¹ä¸º index
        self.valToIndex[self.nums[-1]] = index
        # äº¤æ¢ val å’Œæœ€åä¸€ä¸ªå…ƒç´ 
        self.nums[index], self.nums[-1] = self.nums[-1], self.nums[index]
        # åœ¨æ•°ç»„ä¸­åˆ é™¤å…ƒç´  val
        self.nums.pop()
        # åˆ é™¤å…ƒç´  val å¯¹åº”çš„ç´¢å¼•
        del self.valToIndex[val]
        return True

    def getRandom(self) -> int:
        """
        Get a random element from the set.
        """
        # éšæœºè·å– nums ä¸­çš„ä¸€ä¸ªå…ƒç´ 
        return self.nums[random.randint(0, len(self.nums) - 1)]
```

</div></div>

<div data-tab-item="java" class="tab-item " data-tab-group="default"><div class="highlight">

```java
// æ³¨æ„ï¼šjava ä»£ç ç”± chatGPTğŸ¤– æ ¹æ®æˆ‘çš„ cpp ä»£ç ç¿»è¯‘ï¼Œæ—¨åœ¨å¸®åŠ©ä¸åŒèƒŒæ™¯çš„è¯»è€…ç†è§£ç®—æ³•é€»è¾‘ã€‚
// æœ¬ä»£ç å·²ç»é€šè¿‡åŠ›æ‰£çš„æµ‹è¯•ç”¨ä¾‹ï¼Œåº”è¯¥å¯ç›´æ¥æˆåŠŸæäº¤ã€‚

class RandomizedSet {
    // å­˜å‚¨å…ƒç´ çš„å€¼
    List<Integer> nums;
    // è®°å½•æ¯ä¸ªå…ƒç´ å¯¹åº”åœ¨ nums ä¸­çš„ç´¢å¼•
    Map<Integer, Integer> valToIndex;

    public RandomizedSet() {
        nums = new ArrayList<>();
        valToIndex = new HashMap<>();
    }

    public boolean insert(int val) {
        // è‹¥ val å·²å­˜åœ¨ï¼Œä¸ç”¨å†æ’å…¥
        if (valToIndex.containsKey(val)) {
            return false;
        }
        // è‹¥ val ä¸å­˜åœ¨ï¼Œæ’å…¥åˆ° nums å°¾éƒ¨ï¼Œ
        // å¹¶è®°å½• val å¯¹åº”çš„ç´¢å¼•å€¼
        valToIndex.put(val, nums.size());
        nums.add(val);
        return true;
    }

    public boolean remove(int val) {
        // è‹¥ val ä¸å­˜åœ¨ï¼Œä¸ç”¨å†åˆ é™¤
        if (!valToIndex.containsKey(val)) {
            return false;
        }
        // å…ˆæ‹¿åˆ° val çš„ç´¢å¼•
        int index = valToIndex.get(val);
        // å°†æœ€åä¸€ä¸ªå…ƒç´ å¯¹åº”çš„ç´¢å¼•ä¿®æ”¹ä¸º index
        valToIndex.put(nums.get(nums.size() - 1), index);
        // äº¤æ¢ val å’Œæœ€åä¸€ä¸ªå…ƒç´ 
        Collections.swap(nums, index, nums.size() - 1);
        // åœ¨æ•°ç»„ä¸­åˆ é™¤å…ƒç´  val
        nums.remove(nums.size() - 1);
        // åˆ é™¤å…ƒç´  val å¯¹åº”çš„ç´¢å¼•
        valToIndex.remove(val);
        return true;
    }

    public int getRandom() {
        // éšæœºè·å– nums ä¸­çš„ä¸€ä¸ªå…ƒç´ 
        return nums.get((int)(Math.random() * nums.size()));
    }
}
```

</div></div>

<div data-tab-item="go" class="tab-item " data-tab-group="default"><div class="highlight">

```go
// æ³¨æ„ï¼šgo ä»£ç ç”± chatGPTğŸ¤– æ ¹æ®æˆ‘çš„ cpp ä»£ç ç¿»è¯‘ï¼Œæ—¨åœ¨å¸®åŠ©ä¸åŒèƒŒæ™¯çš„è¯»è€…ç†è§£ç®—æ³•é€»è¾‘ã€‚
// æœ¬ä»£ç å·²ç»é€šè¿‡åŠ›æ‰£çš„æµ‹è¯•ç”¨ä¾‹ï¼Œåº”è¯¥å¯ç›´æ¥æˆåŠŸæäº¤ã€‚

type RandomizedSet struct {
    // å­˜å‚¨å…ƒç´ çš„å€¼
    nums []int
    // è®°å½•æ¯ä¸ªå…ƒç´ å¯¹åº”åœ¨ nums ä¸­çš„ç´¢å¼•
    valToIndex map[int]int
}

func Constructor() RandomizedSet {
    return RandomizedSet{
        nums: []int{},
        valToIndex: make(map[int]int),
    }
}

func (this *RandomizedSet) Insert(val int) bool {
    // è‹¥ val å·²å­˜åœ¨ï¼Œä¸ç”¨å†æ’å…¥
    if _, ok := this.valToIndex[val]; ok {
        return false
    }
    // è‹¥ val ä¸å­˜åœ¨ï¼Œæ’å…¥åˆ° nums å°¾éƒ¨ï¼Œ
    // å¹¶è®°å½• val å¯¹åº”çš„ç´¢å¼•å€¼
    this.valToIndex[val] = len(this.nums)
    this.nums = append(this.nums, val)
    return true
}

func (this *RandomizedSet) Remove(val int) bool {
    // è‹¥ val ä¸å­˜åœ¨ï¼Œä¸ç”¨å†åˆ é™¤
    if _, ok := this.valToIndex[val]; !ok {
        return false
    }
    // å…ˆæ‹¿åˆ° val çš„ç´¢å¼•
    index := this.valToIndex[val]
    // å°†æœ€åä¸€ä¸ªå…ƒç´ å¯¹åº”çš„ç´¢å¼•ä¿®æ”¹ä¸º index
    this.valToIndex[this.nums[len(this.nums)-1]] = index
    // äº¤æ¢ val å’Œæœ€åä¸€ä¸ªå…ƒç´ 
    this.nums[index], this.nums[len(this.nums)-1] = this.nums[len(this.nums)-1], this.nums[index]
    // åœ¨æ•°ç»„ä¸­åˆ é™¤å…ƒç´  val
    this.nums = this.nums[:len(this.nums)-1]
    // åˆ é™¤å…ƒç´  val å¯¹åº”çš„ç´¢å¼•
    delete(this.valToIndex, val)
    return true
}

func (this *RandomizedSet) GetRandom() int {
    // éšæœºè·å– nums ä¸­çš„ä¸€ä¸ªå…ƒç´ 
    return this.nums[rand.Intn(len(this.nums))]
}
```

</div></div>

<div data-tab-item="javascript" class="tab-item " data-tab-group="default"><div class="highlight">

```javascript
// æ³¨æ„ï¼šjavascript ä»£ç ç”± chatGPTğŸ¤– æ ¹æ®æˆ‘çš„ cpp ä»£ç ç¿»è¯‘ï¼Œæ—¨åœ¨å¸®åŠ©ä¸åŒèƒŒæ™¯çš„è¯»è€…ç†è§£ç®—æ³•é€»è¾‘ã€‚
// æœ¬ä»£ç å·²ç»é€šè¿‡åŠ›æ‰£çš„æµ‹è¯•ç”¨ä¾‹ï¼Œåº”è¯¥å¯ç›´æ¥æˆåŠŸæäº¤ã€‚

var RandomizedSet = function() {
    // å­˜å‚¨å…ƒç´ çš„å€¼
    this.nums = [];
    // è®°å½•æ¯ä¸ªå…ƒç´ å¯¹åº”åœ¨ nums ä¸­çš„ç´¢å¼•
    this.valToIndex = {};
};

RandomizedSet.prototype.insert = function(val) {
    // è‹¥ val å·²å­˜åœ¨ï¼Œä¸ç”¨å†æ’å…¥
    if (this.valToIndex[val] !== undefined) {
        return false;
    }
    // è‹¥ val ä¸å­˜åœ¨ï¼Œæ’å…¥åˆ° nums å°¾éƒ¨ï¼Œ
    // å¹¶è®°å½• val å¯¹åº”çš„ç´¢å¼•å€¼
    this.valToIndex[val] = this.nums.length;
    this.nums.push(val);
    return true;
};

RandomizedSet.prototype.remove = function(val) {
    // è‹¥ val ä¸å­˜åœ¨ï¼Œä¸ç”¨å†åˆ é™¤
    if (this.valToIndex[val] === undefined) {
        return false;
    }
    // å…ˆæ‹¿åˆ° val çš„ç´¢å¼•
    var index = this.valToIndex[val];
    // å°†æœ€åä¸€ä¸ªå…ƒç´ å¯¹åº”çš„ç´¢å¼•ä¿®æ”¹ä¸º index
    this.valToIndex[this.nums[this.nums.length - 1]] = index;
    // äº¤æ¢ val å’Œæœ€åä¸€ä¸ªå…ƒç´ 
    var temp = this.nums[index];
    this.nums[index] = this.nums[this.nums.length - 1];
    this.nums[this.nums.length - 1] = temp;
    // åœ¨æ•°ç»„ä¸­åˆ é™¤å…ƒç´  val
    this.nums.pop();
    // åˆ é™¤å…ƒç´  val å¯¹åº”çš„ç´¢å¼•
    delete this.valToIndex[val];
    return true;
};

RandomizedSet.prototype.getRandom = function() {
    // éšæœºè·å– nums ä¸­çš„ä¸€ä¸ªå…ƒç´ 
    return this.nums[Math.floor(Math.random() * this.nums.length)];
};
```

</div></div>
</div></div>

**ç±»ä¼¼é¢˜ç›®**ï¼š
  - [519. éšæœºç¿»è½¬çŸ©é˜µ ğŸŸ ](/problems/random-flip-matrix)
  - [710. é»‘åå•ä¸­çš„éšæœºæ•° ğŸ”´](/problems/random-pick-with-blacklist)
  - [å‰‘æŒ‡ Offer II 030. æ’å…¥ã€åˆ é™¤å’Œéšæœºè®¿é—®éƒ½æ˜¯ O(1) çš„å®¹å™¨ ğŸŸ ](/problems/FortPu)

</details>
</div>



